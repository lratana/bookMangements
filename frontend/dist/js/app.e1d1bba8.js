(function(){"use strict";var e={546:function(e,a,s){var t=s(751),r=s(641),o=s(33);const l={id:"app"},i={key:0,class:"navbar navbar-expand-lg navbar-dark bg-primary"},n={class:"container"},d={class:"collapse navbar-collapse",id:"navbarNav"},c={class:"navbar-nav me-auto"},u={class:"nav-item"},k={class:"nav-item"},b={key:0,class:"nav-item"},m={key:1,class:"nav-item"},h={class:"nav-item"},L={class:"navbar-nav"},g={class:"nav-item me-2"},v={class:"nav-item dropdown"},f={class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},p={key:0,class:"badge bg-warning text-dark ms-1"},w={class:"dropdown-menu dropdown-menu-end"},y={class:"dropdown-item-text"},C={class:"dropdown-item-text text-muted"},B={key:1,class:"bg-light py-3 mt-5"};function A(e,a,s,A,_,E){const P=(0,r.g2)("router-link"),F=(0,r.g2)("router-view"),D=(0,r.g2)("NotificationContainer");return(0,r.uX)(),(0,r.CE)("div",l,[_.isAuthenticated?((0,r.uX)(),(0,r.CE)("nav",i,[(0,r.Lk)("div",n,[(0,r.bF)(P,{class:"navbar-brand",to:"/"},{default:(0,r.k6)(()=>[...a[2]||(a[2]=[(0,r.Lk)("i",{class:"fas fa-book"},null,-1),(0,r.eW)(" Library Management ",-1)])]),_:1}),a[12]||(a[12]=(0,r.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,r.Lk)("div",d,[(0,r.Lk)("ul",c,[(0,r.Lk)("li",u,[(0,r.bF)(P,{class:"nav-link",to:"/dashboard"},{default:(0,r.k6)(()=>[...a[3]||(a[3]=[(0,r.Lk)("i",{class:"fas fa-tachometer-alt"},null,-1),(0,r.eW)(" Dashboard ",-1)])]),_:1})]),(0,r.Lk)("li",k,[(0,r.bF)(P,{class:"nav-link",to:"/books"},{default:(0,r.k6)(()=>[...a[4]||(a[4]=[(0,r.Lk)("i",{class:"fas fa-book"},null,-1),(0,r.eW)(" Books ",-1)])]),_:1})]),E.isAdmin?((0,r.uX)(),(0,r.CE)("li",b,[(0,r.bF)(P,{class:"nav-link",to:"/users"},{default:(0,r.k6)(()=>[...a[5]||(a[5]=[(0,r.Lk)("i",{class:"fas fa-users"},null,-1),(0,r.eW)(" Users ",-1)])]),_:1})])):(0,r.Q3)("",!0),E.isAdmin?((0,r.uX)(),(0,r.CE)("li",m,[(0,r.bF)(P,{class:"nav-link",to:"/librarians"},{default:(0,r.k6)(()=>[...a[6]||(a[6]=[(0,r.Lk)("i",{class:"fas fa-user-tie"},null,-1),(0,r.eW)(" Librarians ",-1)])]),_:1})])):(0,r.Q3)("",!0),(0,r.Lk)("li",h,[(0,r.bF)(P,{class:"nav-link",to:"/borrowing"},{default:(0,r.k6)(()=>[...a[7]||(a[7]=[(0,r.Lk)("i",{class:"fas fa-handshake"},null,-1),(0,r.eW)(" Borrowing ",-1)])]),_:1})])]),(0,r.Lk)("ul",L,[(0,r.Lk)("li",g,[(0,r.Lk)("button",{class:"btn btn-outline-light btn-sm",onClick:a[0]||(a[0]=(...e)=>E.handleLogout&&E.handleLogout(...e)),title:"Logout"},[...a[8]||(a[8]=[(0,r.Lk)("i",{class:"fas fa-sign-out-alt"},null,-1)])])]),(0,r.Lk)("li",v,[(0,r.Lk)("a",f,[a[9]||(a[9]=(0,r.Lk)("i",{class:"fas fa-user"},null,-1)),(0,r.eW)(" "+(0,o.v_)(_.currentUser?.user_name)+" ",1),E.isAdmin?((0,r.uX)(),(0,r.CE)("span",p,"Admin")):(0,r.Q3)("",!0)]),(0,r.Lk)("ul",w,[(0,r.Lk)("li",null,[(0,r.Lk)("span",y,[(0,r.Lk)("strong",null,(0,o.v_)(_.currentUser?.user_name),1)])]),(0,r.Lk)("li",null,[(0,r.Lk)("span",C,(0,o.v_)(_.currentUser?.email||"No email"),1)]),a[11]||(a[11]=(0,r.Lk)("li",null,[(0,r.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,r.Lk)("li",null,[(0,r.Lk)("a",{class:"dropdown-item",href:"#",onClick:a[1]||(a[1]=(0,t.D$)((...e)=>E.handleLogout&&E.handleLogout(...e),["prevent"]))},[...a[10]||(a[10]=[(0,r.Lk)("i",{class:"fas fa-sign-out-alt"},null,-1),(0,r.eW)(" Logout ",-1)])])])])])])])])])):(0,r.Q3)("",!0),(0,r.Lk)("main",{class:(0,o.C4)(_.isAuthenticated?"container-fluid py-4":"")},[(0,r.bF)(F)],2),(0,r.bF)(D),_.isAuthenticated?((0,r.uX)(),(0,r.CE)("footer",B,[...a[13]||(a[13]=[(0,r.Lk)("div",{class:"container text-center"},[(0,r.Lk)("p",{class:"text-muted mb-0"}," Â© 2025 Library Management System. Built with Vue.js & Node.js ")],-1)])])):(0,r.Q3)("",!0)])}const _={class:"notification-container"},E=["onClick"];function P(e,a,s,t,l,i){return(0,r.uX)(),(0,r.CE)("div",_,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.notifications,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:(0,o.C4)([i.getAlertClass(e.type),"alert alert-dismissible fade show"]),role:"alert"},[(0,r.Lk)("i",{class:(0,o.C4)(i.getIconClass(e.type))},null,2),(0,r.eW)(" "+(0,o.v_)(e.message)+" ",1),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:a=>i.removeNotification(e.id),"aria-label":"Close"},null,8,E)],2))),128))])}var F=s(953);const D=(0,F.Kh)({notifications:[]});class x{static show(e,a="info",s=5e3){const t=Date.now()+Math.random(),r={id:t,message:e,type:a,timestamp:new Date};return D.notifications.push(r),s>0&&setTimeout(()=>{this.remove(t)},s),t}static success(e,a=5e3){return this.show(e,"success",a)}static error(e,a=7e3){return this.show(e,"error",a)}static warning(e,a=6e3){return this.show(e,"warning",a)}static info(e,a=5e3){return this.show(e,"info",a)}static remove(e){const a=D.notifications.findIndex(a=>a.id===e);a>-1&&D.notifications.splice(a,1)}static clear(){D.notifications.splice(0)}}var U={name:"NotificationContainer",data(){return{notificationState:D}},computed:{notifications(){return this.notificationState.notifications}},methods:{getAlertClass(e){const a={success:"alert-success",error:"alert-danger",warning:"alert-warning",info:"alert-info"};return a[e]||"alert-info"},getIconClass(e){const a={success:"fas fa-check-circle me-2",error:"fas fa-exclamation-triangle me-2",warning:"fas fa-exclamation-circle me-2",info:"fas fa-info-circle me-2"};return a[e]||"fas fa-info-circle me-2"},removeNotification(e){x.remove(e)}}},I=s(262);const X=(0,I.A)(U,[["render",P],["__scopeId","data-v-ef2db19c"]]);var S=X,N=s(335);const M=N.A.create({baseURL:"http://localhost:8080/api",timeout:1e4,headers:{"Content-Type":"application/json"}});M.interceptors.request.use(e=>e,e=>Promise.reject(e)),M.interceptors.response.use(e=>e,e=>(console.error("API Error:",e.response?.data||e.message),Promise.reject(e)));var W=M;class ${constructor(){this.token=localStorage.getItem("token"),this.user=JSON.parse(localStorage.getItem("user")||"null")}async login(e){try{const a=await W.post("/users/login",e),{user:s,token:t}=a.data;return localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(s)),this.token=t,this.user=s,W.defaults.headers.common["Authorization"]=`Bearer ${t}`,a.data}catch(a){throw a}}async register(e){try{const a=await W.post("/users/register",e),{user:s,token:t}=a.data;return localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(s)),this.token=t,this.user=s,W.defaults.headers.common["Authorization"]=`Bearer ${t}`,a.data}catch(a){throw a}}logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.token=null,this.user=null,delete W.defaults.headers.common["Authorization"]}isAuthenticated(){return!!this.token&&!!this.user}getCurrentUser(){return this.user}getToken(){return this.token}hasRole(e){return this.user&&this.user.role===e}initialize(){this.token&&(W.defaults.headers.common["Authorization"]=`Bearer ${this.token}`)}}const Q=new $;var q=Q,T={name:"App",components:{NotificationContainer:S},data(){return{currentUser:null,isAuthenticated:!1}},computed:{isAdmin(){return this.currentUser&&"admin"===this.currentUser.role}},methods:{updateAuthState(){this.isAuthenticated=q.isAuthenticated(),this.currentUser=q.getCurrentUser()},handleLogout(){q.logout(),x.success("Logged out successfully"),this.updateAuthState(),this.$router.push("/login")}},created(){q.initialize(),this.updateAuthState(),this.$router.afterEach(()=>{this.updateAuthState()})}};const j=(0,I.A)(T,[["render",A]]);var V=j,O=s(220);const R={class:"dashboard"},J={class:"row mb-4"},G={class:"col-md-3 col-sm-6 mb-3"},K={class:"card bg-primary text-white"},z={class:"card-body"},H={class:"d-flex justify-content-between"},Y={class:"card-title"},Z={class:"col-md-3 col-sm-6 mb-3"},ee={class:"card bg-success text-white"},ae={class:"card-body"},se={class:"d-flex justify-content-between"},te={class:"card-title"},re={class:"col-md-3 col-sm-6 mb-3"},oe={class:"card bg-warning text-white"},le={class:"card-body"},ie={class:"d-flex justify-content-between"},ne={class:"card-title"},de={class:"col-md-3 col-sm-6 mb-3"},ce={class:"card bg-info text-white"},ue={class:"card-body"},ke={class:"d-flex justify-content-between"},be={class:"card-title"},me={class:"row"},he={class:"col-md-6"},Le={class:"card"},ge={class:"card-body"},ve={key:0,class:"text-center text-muted"},fe={key:1},pe={class:"d-flex justify-content-between"},we={class:"text-muted"},ye={class:"text-end"},Ce={class:"text-muted"},Be={key:0,class:"badge bg-warning"},Ae={key:1,class:"badge bg-success"},_e={class:"col-md-6"},Ee={class:"card"},Pe={class:"card-body"},Fe={key:0,class:"text-center text-muted"},De={key:1},xe={class:"d-flex justify-content-between"},Ue={class:"text-muted"};function Ie(e,a,s,t,l,i){return(0,r.uX)(),(0,r.CE)("div",R,[a[14]||(a[14]=(0,r.Fv)('<div class="row mb-4" data-v-8bbd52c2><div class="col-12" data-v-8bbd52c2><h1 class="h2" data-v-8bbd52c2><i class="fas fa-tachometer-alt" data-v-8bbd52c2></i> Dashboard </h1><p class="text-muted" data-v-8bbd52c2>Welcome to the Library Management System</p></div></div>',1)),(0,r.Lk)("div",J,[(0,r.Lk)("div",G,[(0,r.Lk)("div",K,[(0,r.Lk)("div",z,[(0,r.Lk)("div",H,[(0,r.Lk)("div",null,[(0,r.Lk)("h3",Y,(0,o.v_)(l.statistics.totalBooks),1),a[0]||(a[0]=(0,r.Lk)("p",{class:"card-text"},"Total Books",-1))]),a[1]||(a[1]=(0,r.Lk)("div",{class:"align-self-center"},[(0,r.Lk)("i",{class:"fas fa-book fa-2x"})],-1))])])])]),(0,r.Lk)("div",Z,[(0,r.Lk)("div",ee,[(0,r.Lk)("div",ae,[(0,r.Lk)("div",se,[(0,r.Lk)("div",null,[(0,r.Lk)("h3",te,(0,o.v_)(l.statistics.totalUsers),1),a[2]||(a[2]=(0,r.Lk)("p",{class:"card-text"},"Total Users",-1))]),a[3]||(a[3]=(0,r.Lk)("div",{class:"align-self-center"},[(0,r.Lk)("i",{class:"fas fa-users fa-2x"})],-1))])])])]),(0,r.Lk)("div",re,[(0,r.Lk)("div",oe,[(0,r.Lk)("div",le,[(0,r.Lk)("div",ie,[(0,r.Lk)("div",null,[(0,r.Lk)("h3",ne,(0,o.v_)(l.statistics.currentlyBorrowed),1),a[4]||(a[4]=(0,r.Lk)("p",{class:"card-text"},"Currently Borrowed",-1))]),a[5]||(a[5]=(0,r.Lk)("div",{class:"align-self-center"},[(0,r.Lk)("i",{class:"fas fa-handshake fa-2x"})],-1))])])])]),(0,r.Lk)("div",de,[(0,r.Lk)("div",ce,[(0,r.Lk)("div",ue,[(0,r.Lk)("div",ke,[(0,r.Lk)("div",null,[(0,r.Lk)("h3",be,(0,o.v_)(l.statistics.totalLibrarians),1),a[6]||(a[6]=(0,r.Lk)("p",{class:"card-text"},"Total Librarians",-1))]),a[7]||(a[7]=(0,r.Lk)("div",{class:"align-self-center"},[(0,r.Lk)("i",{class:"fas fa-user-tie fa-2x"})],-1))])])])])]),(0,r.Lk)("div",me,[(0,r.Lk)("div",he,[(0,r.Lk)("div",Le,[a[10]||(a[10]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h5",{class:"card-title mb-0"},[(0,r.Lk)("i",{class:"fas fa-clock"}),(0,r.eW)(" Recent Borrowings ")])],-1)),(0,r.Lk)("div",ge,[0===l.recentBorrowings.length?((0,r.uX)(),(0,r.CE)("div",ve," No recent borrowings ")):((0,r.uX)(),(0,r.CE)("div",fe,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.recentBorrowings,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.BorrowID,class:"border-bottom py-2"},[(0,r.Lk)("div",pe,[(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.books?.title),1),a[8]||(a[8]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("small",we,"by "+(0,o.v_)(e.Users?.user_name),1)]),(0,r.Lk)("div",ye,[(0,r.Lk)("small",Ce,(0,o.v_)(i.formatDate(e.BorrowBookDate)),1),a[9]||(a[9]=(0,r.Lk)("br",null,null,-1)),e.IsBorrow?((0,r.uX)(),(0,r.CE)("span",Be,"Borrowed")):((0,r.uX)(),(0,r.CE)("span",Ae,"Returned"))])])]))),128))]))])])]),(0,r.Lk)("div",_e,[(0,r.Lk)("div",Ee,[a[13]||(a[13]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h5",{class:"card-title mb-0"},[(0,r.Lk)("i",{class:"fas fa-book"}),(0,r.eW)(" Available Books ")])],-1)),(0,r.Lk)("div",Pe,[0===l.availableBooks.length?((0,r.uX)(),(0,r.CE)("div",Fe," No available books ")):((0,r.uX)(),(0,r.CE)("div",De,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.availableBooks.slice(0,5),e=>((0,r.uX)(),(0,r.CE)("div",{key:e.book_id,class:"border-bottom py-2"},[(0,r.Lk)("div",xe,[(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.title),1),a[11]||(a[11]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("small",Ue,"by "+(0,o.v_)(e.author),1)]),a[12]||(a[12]=(0,r.Lk)("div",{class:"text-end"},[(0,r.Lk)("span",{class:"badge bg-success"},"Available")],-1))])]))),128))]))])])])])])}var Xe={getAll(){return W.get("/books")},getById(e){return W.get(`/books/${e}`)},getAvailable(){return W.get("/books/available")},create(e){return W.post("/books",e)},update(e,a){return W.put(`/books/${e}`,a)},delete(e){return W.delete(`/books/${e}`)},deleteAll(){return W.delete("/books")},searchByTitle(e){return W.get(`/books?title=${e}`)}},Se={getAll(){return W.get("/users")},getById(e){return W.get(`/users/${e}`)},getByUsername(e){return W.get(`/users/username/${e}`)},create(e){return W.post("/users",e)},update(e,a){return W.put(`/users/${e}`,a)},delete(e){return W.delete(`/users/${e}`)},deleteAll(){return W.delete("/users")}},Ne={getAll(){return W.get("/librarians")},getById(e){return W.get(`/librarians/${e}`)},create(e){return W.post("/librarians",e)},update(e,a){return W.put(`/librarians/${e}`,a)},delete(e){return W.delete(`/librarians/${e}`)},deleteAll(){return W.delete("/librarians")}},Me={getAll(){return W.get("/borrows")},getById(e){return W.get(`/borrows/${e}`)},getCurrentlyBorrowed(){return W.get("/borrows/currently-borrowed")},getReturned(){return W.get("/borrows/returned")},getStatistics(){return W.get("/borrows/statistics")},borrowBook(e){return W.post("/borrows/borrow",e)},returnBook(e){return W.put(`/borrows/return/${e}`)}},We={name:"Dashboard",data(){return{statistics:{totalBooks:0,totalUsers:0,totalLibrarians:0,currentlyBorrowed:0},recentBorrowings:[],availableBooks:[]}},async mounted(){await this.loadStatistics(),await this.loadRecentBorrowings(),await this.loadAvailableBooks()},methods:{async loadStatistics(){try{const[e,a,s,t]=await Promise.all([Xe.getAll(),Se.getAll(),Ne.getAll(),Me.getCurrentlyBorrowed()]);this.statistics.totalBooks=e.data.length,this.statistics.totalUsers=a.data.length,this.statistics.totalLibrarians=s.data.length,this.statistics.currentlyBorrowed=t.data.length}catch(e){console.error("Error loading statistics:",e)}},async loadRecentBorrowings(){try{const e=await Me.getAll();this.recentBorrowings=e.data.slice(0,5)}catch(e){console.error("Error loading recent borrowings:",e)}},async loadAvailableBooks(){try{const e=await Xe.getAvailable();this.availableBooks=e.data}catch(e){console.error("Error loading available books:",e)}},formatDate(e){return e?new Date(e).toLocaleDateString():"N/A"}}};const $e=(0,I.A)(We,[["render",Ie],["__scopeId","data-v-8bbd52c2"]]);var Qe=$e;const qe={class:"books"},Te={class:"row mb-4"},je={class:"col-md-6 text-end"},Ve={class:"row mb-3"},Oe={class:"col-md-6"},Re={class:"input-group"},Je={class:"col-md-6"},Ge={key:0,class:"card mb-4"},Ke={class:"card-header"},ze={class:"mb-0"},He={class:"card-body"},Ye={class:"row"},Ze={class:"col-md-6 mb-3"},ea={class:"col-md-6 mb-3"},aa={class:"d-flex gap-2"},sa=["disabled"],ta={class:"card"},ra={class:"card-body"},oa={key:0,class:"text-center py-4"},la={key:1,class:"text-center py-4 text-muted"},ia={key:2,class:"table-responsive"},na={class:"table table-hover"},da={key:0,class:"badge bg-warning"},ca={key:1,class:"badge bg-success"},ua={key:0,class:"text-muted"},ka={key:1,class:"text-muted"},ba={class:"btn-group",role:"group"},ma=["onClick"],ha=["onClick"],La={key:0},ga={class:"pagination justify-content-center"},va=["disabled"],fa=["disabled"],pa=["onClick"],wa=["disabled"],ya=["disabled"];function Ca(e,a,s,l,i,n){return(0,r.uX)(),(0,r.CE)("div",qe,[(0,r.Lk)("div",Te,[a[14]||(a[14]=(0,r.Lk)("div",{class:"col-md-6"},[(0,r.Lk)("h1",{class:"h2"},[(0,r.Lk)("i",{class:"fas fa-book"}),(0,r.eW)(" Books Management")])],-1)),(0,r.Lk)("div",je,[(0,r.Lk)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=e=>i.showAddForm=!0)},[...a[13]||(a[13]=[(0,r.Lk)("i",{class:"fas fa-plus"},null,-1),(0,r.eW)(" Add New Book ",-1)])])])]),(0,r.Lk)("div",Ve,[(0,r.Lk)("div",Oe,[(0,r.Lk)("div",Re,[a[15]||(a[15]=(0,r.Lk)("span",{class:"input-group-text"},[(0,r.Lk)("i",{class:"fas fa-search"})],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"Search books by title or author...","onUpdate:modelValue":a[1]||(a[1]=e=>i.searchQuery=e),onInput:a[2]||(a[2]=(...e)=>n.filterBooks&&n.filterBooks(...e))},null,544),[[t.Jo,i.searchQuery]])])]),(0,r.Lk)("div",Je,[(0,r.bo)((0,r.Lk)("select",{class:"form-select","onUpdate:modelValue":a[3]||(a[3]=e=>i.filterStatus=e),onChange:a[4]||(a[4]=(...e)=>n.filterBooks&&n.filterBooks(...e))},[...a[16]||(a[16]=[(0,r.Lk)("option",{value:""},"All Books",-1),(0,r.Lk)("option",{value:"available"},"Available",-1),(0,r.Lk)("option",{value:"borrowed"},"Borrowed",-1)])],544),[[t.u1,i.filterStatus]])])]),i.showAddForm||i.editingBook?((0,r.uX)(),(0,r.CE)("div",Ge,[(0,r.Lk)("div",Ke,[(0,r.Lk)("h5",ze,(0,o.v_)(i.editingBook?"Edit Book":"Add New Book"),1)]),(0,r.Lk)("div",He,[(0,r.Lk)("form",{onSubmit:a[8]||(a[8]=(0,t.D$)((...e)=>n.saveBook&&n.saveBook(...e),["prevent"]))},[(0,r.Lk)("div",Ye,[(0,r.Lk)("div",Ze,[a[17]||(a[17]=(0,r.Lk)("label",{for:"title",class:"form-label"},"Title *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[5]||(a[5]=e=>i.bookForm.title=e),required:""},null,512),[[t.Jo,i.bookForm.title]])]),(0,r.Lk)("div",ea,[a[18]||(a[18]=(0,r.Lk)("label",{for:"author",class:"form-label"},"Author *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"author","onUpdate:modelValue":a[6]||(a[6]=e=>i.bookForm.author=e),required:""},null,512),[[t.Jo,i.bookForm.author]])])]),(0,r.Lk)("div",aa,[(0,r.Lk)("button",{type:"submit",class:"btn btn-success",disabled:i.loading},[a[19]||(a[19]=(0,r.Lk)("i",{class:"fas fa-save"},null,-1)),(0,r.eW)(" "+(0,o.v_)(i.editingBook?"Update":"Save"),1)],8,sa),(0,r.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[7]||(a[7]=(...e)=>n.cancelForm&&n.cancelForm(...e))},[...a[20]||(a[20]=[(0,r.Lk)("i",{class:"fas fa-times"},null,-1),(0,r.eW)(" Cancel ",-1)])])])],32)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",ta,[(0,r.Lk)("div",ra,[i.loading?((0,r.uX)(),(0,r.CE)("div",oa,[...a[21]||(a[21]=[(0,r.Lk)("div",{class:"spinner-border",role:"status"},[(0,r.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):0===i.filteredBooks.length?((0,r.uX)(),(0,r.CE)("div",la,[...a[22]||(a[22]=[(0,r.Lk)("i",{class:"fas fa-book fa-3x mb-3"},null,-1),(0,r.Lk)("p",null,"No books found",-1)])])):((0,r.uX)(),(0,r.CE)("div",ia,[(0,r.Lk)("table",na,[a[27]||(a[27]=(0,r.Lk)("thead",{class:"table-dark"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Title"),(0,r.Lk)("th",null,"Author"),(0,r.Lk)("th",null,"Status"),(0,r.Lk)("th",null,"Borrowed By"),(0,r.Lk)("th",null,"Created"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.paginatedBooks,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.book_id},[(0,r.Lk)("td",null,(0,o.v_)(e.book_id),1),(0,r.Lk)("td",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.title),1)]),(0,r.Lk)("td",null,(0,o.v_)(e.author),1),(0,r.Lk)("td",null,[e.borrowed?((0,r.uX)(),(0,r.CE)("span",da,[...a[23]||(a[23]=[(0,r.Lk)("i",{class:"fas fa-handshake"},null,-1),(0,r.eW)(" Borrowed ",-1)])])):((0,r.uX)(),(0,r.CE)("span",ca,[...a[24]||(a[24]=[(0,r.Lk)("i",{class:"fas fa-check"},null,-1),(0,r.eW)(" Available ",-1)])]))]),(0,r.Lk)("td",null,[e.user_id?((0,r.uX)(),(0,r.CE)("span",ua," User ID: "+(0,o.v_)(e.user_id),1)):((0,r.uX)(),(0,r.CE)("span",ka,"-"))]),(0,r.Lk)("td",null,(0,o.v_)(n.formatDate(e.createdAt)),1),(0,r.Lk)("td",null,[(0,r.Lk)("div",ba,[(0,r.Lk)("button",{class:"btn btn-sm btn-outline-primary",onClick:a=>n.editBook(e),title:"Edit"},[...a[25]||(a[25]=[(0,r.Lk)("i",{class:"fas fa-edit"},null,-1)])],8,ma),(0,r.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:a=>n.deleteBook(e),title:"Delete"},[...a[26]||(a[26]=[(0,r.Lk)("i",{class:"fas fa-trash"},null,-1)])],8,ha)])])]))),128))])]),n.totalPages>1?((0,r.uX)(),(0,r.CE)("nav",La,[(0,r.Lk)("ul",ga,[(0,r.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,r.Lk)("button",{class:"page-link",onClick:a[9]||(a[9]=e=>i.currentPage=1),disabled:1===i.currentPage}," First ",8,va)],2),(0,r.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,r.Lk)("button",{class:"page-link",onClick:a[10]||(a[10]=e=>i.currentPage--),disabled:1===i.currentPage}," Previous ",8,fa)],2),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.visiblePages,e=>((0,r.uX)(),(0,r.CE)("li",{key:e,class:(0,o.C4)(["page-item",{active:e===i.currentPage}])},[(0,r.Lk)("button",{class:"page-link",onClick:a=>i.currentPage=e},(0,o.v_)(e),9,pa)],2))),128)),(0,r.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:i.currentPage===n.totalPages}])},[(0,r.Lk)("button",{class:"page-link",onClick:a[11]||(a[11]=e=>i.currentPage++),disabled:i.currentPage===n.totalPages}," Next ",8,wa)],2),(0,r.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:i.currentPage===n.totalPages}])},[(0,r.Lk)("button",{class:"page-link",onClick:a[12]||(a[12]=e=>i.currentPage=n.totalPages),disabled:i.currentPage===n.totalPages}," Last ",8,ya)],2)])])):(0,r.Q3)("",!0)]))])])])}var Ba={name:"Books",data(){return{books:[],filteredBooks:[],loading:!1,showAddForm:!1,editingBook:null,searchQuery:"",filterStatus:"",currentPage:1,itemsPerPage:10,bookForm:{title:"",author:""}}},computed:{totalPages(){return Math.ceil(this.filteredBooks.length/this.itemsPerPage)},paginatedBooks(){const e=(this.currentPage-1)*this.itemsPerPage,a=e+this.itemsPerPage;return this.filteredBooks.slice(e,a)},visiblePages(){const e=[],a=Math.max(1,this.currentPage-2),s=Math.min(this.totalPages,this.currentPage+2);for(let t=a;t<=s;t++)e.push(t);return e}},async mounted(){await this.loadBooks()},methods:{async loadBooks(){this.loading=!0;try{const e=await Xe.getAll();this.books=e.data,this.filteredBooks=[...this.books]}catch(e){console.error("Error loading books:",e),x.error("Error loading books. Please try again.")}finally{this.loading=!1}},filterBooks(){let e=[...this.books];if(this.searchQuery){const a=this.searchQuery.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(a)||e.author.toLowerCase().includes(a))}"available"===this.filterStatus?e=e.filter(e=>!e.borrowed):"borrowed"===this.filterStatus&&(e=e.filter(e=>e.borrowed)),this.filteredBooks=e,this.currentPage=1},async saveBook(){this.loading=!0;try{this.editingBook?await Xe.update(this.editingBook.book_id,this.bookForm):await Xe.create(this.bookForm),await this.loadBooks(),this.cancelForm(),x.success(this.editingBook?"Book updated successfully!":"Book created successfully!")}catch(e){console.error("Error saving book:",e),x.error("Error saving book. Please try again.")}finally{this.loading=!1}},editBook(e){this.editingBook=e,this.bookForm={title:e.title,author:e.author},this.showAddForm=!1},async deleteBook(e){if(confirm(`Are you sure you want to delete "${e.title}"?`)){this.loading=!0;try{await Xe.delete(e.book_id),await this.loadBooks(),x.success("Book deleted successfully!")}catch(a){console.error("Error deleting book:",a),a.response&&a.response.data&&a.response.data.message?x.error(a.response.data.message):a.response&&400===a.response.status?x.error("Cannot delete this book. It may be currently borrowed or have borrow history."):a.response&&404===a.response.status?x.error("Book not found."):x.error("Error deleting book. Please try again.")}finally{this.loading=!1}}},cancelForm(){this.showAddForm=!1,this.editingBook=null,this.bookForm={title:"",author:""}},formatDate(e){return e?new Date(e).toLocaleDateString():"N/A"}}};const Aa=(0,I.A)(Ba,[["render",Ca],["__scopeId","data-v-277f2b74"]]);var _a=Aa;const Ea={class:"users"},Pa={class:"row mb-4"},Fa={class:"col-md-6 text-end"},Da={class:"row mb-3"},xa={class:"col-md-6"},Ua={class:"input-group"},Ia={key:0,class:"card mb-4"},Xa={class:"card-header"},Sa={class:"mb-0"},Na={class:"card-body"},Ma={class:"row"},Wa={class:"col-md-6 mb-3"},$a={class:"d-flex gap-2"},Qa=["disabled"],qa={class:"card"},Ta={class:"card-body"},ja={key:0,class:"text-center py-4"},Va={key:1,class:"text-center py-4 text-muted"},Oa={key:2,class:"table-responsive"},Ra={class:"table table-hover"},Ja={class:"btn-group",role:"group"},Ga=["onClick"],Ka=["onClick"],za={key:0},Ha={class:"pagination justify-content-center"},Ya=["disabled"],Za=["disabled"],es=["onClick"],as=["disabled"],ss=["disabled"];function ts(e,a,s,l,i,n){return(0,r.uX)(),(0,r.CE)("div",Ea,[(0,r.Lk)("div",Pa,[a[11]||(a[11]=(0,r.Lk)("div",{class:"col-md-6"},[(0,r.Lk)("h1",{class:"h2"},[(0,r.Lk)("i",{class:"fas fa-users"}),(0,r.eW)(" Users Management ")])],-1)),(0,r.Lk)("div",Fa,[(0,r.Lk)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=e=>i.showAddForm=!0)},[...a[10]||(a[10]=[(0,r.Lk)("i",{class:"fas fa-plus"},null,-1),(0,r.eW)(" Add New User ",-1)])])])]),(0,r.Lk)("div",Da,[(0,r.Lk)("div",xa,[(0,r.Lk)("div",Ua,[a[12]||(a[12]=(0,r.Lk)("span",{class:"input-group-text"},[(0,r.Lk)("i",{class:"fas fa-search"})],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"Search users by username...","onUpdate:modelValue":a[1]||(a[1]=e=>i.searchQuery=e),onInput:a[2]||(a[2]=(...e)=>n.filterUsers&&n.filterUsers(...e))},null,544),[[t.Jo,i.searchQuery]])])])]),i.showAddForm||i.editingUser?((0,r.uX)(),(0,r.CE)("div",Ia,[(0,r.Lk)("div",Xa,[(0,r.Lk)("h5",Sa,(0,o.v_)(i.editingUser?"Edit User":"Add New User"),1)]),(0,r.Lk)("div",Na,[(0,r.Lk)("form",{onSubmit:a[5]||(a[5]=(0,t.D$)((...e)=>n.saveUser&&n.saveUser(...e),["prevent"]))},[(0,r.Lk)("div",Ma,[(0,r.Lk)("div",Wa,[a[13]||(a[13]=(0,r.Lk)("label",{for:"user_name",class:"form-label"},"Username *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"user_name","onUpdate:modelValue":a[3]||(a[3]=e=>i.userForm.user_name=e),required:""},null,512),[[t.Jo,i.userForm.user_name]])])]),(0,r.Lk)("div",$a,[(0,r.Lk)("button",{type:"submit",class:"btn btn-success",disabled:i.loading},[a[14]||(a[14]=(0,r.Lk)("i",{class:"fas fa-save"},null,-1)),(0,r.eW)(" "+(0,o.v_)(i.editingUser?"Update":"Save"),1)],8,Qa),(0,r.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[4]||(a[4]=(...e)=>n.cancelForm&&n.cancelForm(...e))},[...a[15]||(a[15]=[(0,r.Lk)("i",{class:"fas fa-times"},null,-1),(0,r.eW)(" Cancel ",-1)])])])],32)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",qa,[(0,r.Lk)("div",Ta,[i.loading?((0,r.uX)(),(0,r.CE)("div",ja,[...a[16]||(a[16]=[(0,r.Lk)("div",{class:"spinner-border",role:"status"},[(0,r.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):0===i.filteredUsers.length?((0,r.uX)(),(0,r.CE)("div",Va,[...a[17]||(a[17]=[(0,r.Lk)("i",{class:"fas fa-users fa-3x mb-3"},null,-1),(0,r.Lk)("p",null,"No users found",-1)])])):((0,r.uX)(),(0,r.CE)("div",Oa,[(0,r.Lk)("table",Ra,[a[20]||(a[20]=(0,r.Lk)("thead",{class:"table-dark"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Username"),(0,r.Lk)("th",null,"Created"),(0,r.Lk)("th",null,"Updated"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.paginatedUsers,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.user_id},[(0,r.Lk)("td",null,(0,o.v_)(e.user_id),1),(0,r.Lk)("td",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.user_name),1)]),(0,r.Lk)("td",null,(0,o.v_)(n.formatDate(e.createdAt)),1),(0,r.Lk)("td",null,(0,o.v_)(n.formatDate(e.updatedAt)),1),(0,r.Lk)("td",null,[(0,r.Lk)("div",Ja,[(0,r.Lk)("button",{class:"btn btn-sm btn-outline-primary",onClick:a=>n.editUser(e),title:"Edit"},[...a[18]||(a[18]=[(0,r.Lk)("i",{class:"fas fa-edit"},null,-1)])],8,Ga),(0,r.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:a=>n.deleteUser(e),title:"Delete"},[...a[19]||(a[19]=[(0,r.Lk)("i",{class:"fas fa-trash"},null,-1)])],8,Ka)])])]))),128))])]),n.totalPages>1?((0,r.uX)(),(0,r.CE)("nav",za,[(0,r.Lk)("ul",Ha,[(0,r.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,r.Lk)("button",{class:"page-link",onClick:a[6]||(a[6]=e=>i.currentPage=1),disabled:1===i.currentPage}," First ",8,Ya)],2),(0,r.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,r.Lk)("button",{class:"page-link",onClick:a[7]||(a[7]=e=>i.currentPage--),disabled:1===i.currentPage}," Previous ",8,Za)],2),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.visiblePages,e=>((0,r.uX)(),(0,r.CE)("li",{key:e,class:(0,o.C4)(["page-item",{active:e===i.currentPage}])},[(0,r.Lk)("button",{class:"page-link",onClick:a=>i.currentPage=e},(0,o.v_)(e),9,es)],2))),128)),(0,r.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:i.currentPage===n.totalPages}])},[(0,r.Lk)("button",{class:"page-link",onClick:a[8]||(a[8]=e=>i.currentPage++),disabled:i.currentPage===n.totalPages}," Next ",8,as)],2),(0,r.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:i.currentPage===n.totalPages}])},[(0,r.Lk)("button",{class:"page-link",onClick:a[9]||(a[9]=e=>i.currentPage=n.totalPages),disabled:i.currentPage===n.totalPages}," Last ",8,ss)],2)])])):(0,r.Q3)("",!0)]))])])])}var rs={name:"Users",data(){return{users:[],filteredUsers:[],loading:!1,showAddForm:!1,editingUser:null,searchQuery:"",currentPage:1,itemsPerPage:10,userForm:{user_name:""}}},computed:{totalPages(){return Math.ceil(this.filteredUsers.length/this.itemsPerPage)},paginatedUsers(){const e=(this.currentPage-1)*this.itemsPerPage,a=e+this.itemsPerPage;return this.filteredUsers.slice(e,a)},visiblePages(){const e=[],a=Math.max(1,this.currentPage-2),s=Math.min(this.totalPages,this.currentPage+2);for(let t=a;t<=s;t++)e.push(t);return e}},async mounted(){await this.loadUsers()},methods:{async loadUsers(){this.loading=!0;try{const e=await Se.getAll();this.users=e.data,this.filteredUsers=[...this.users]}catch(e){console.error("Error loading users:",e),x.error("Error loading users. Please try again.")}finally{this.loading=!1}},filterUsers(){let e=[...this.users];if(this.searchQuery){const a=this.searchQuery.toLowerCase();e=e.filter(e=>e.user_name.toLowerCase().includes(a))}this.filteredUsers=e,this.currentPage=1},async saveUser(){this.loading=!0;try{this.editingUser?await Se.update(this.editingUser.user_id,this.userForm):await Se.create(this.userForm),await this.loadUsers(),this.cancelForm(),x.success(this.editingUser?"User updated successfully!":"User created successfully!")}catch(e){console.error("Error saving user:",e),x.error("Error saving user. Please try again.")}finally{this.loading=!1}},editUser(e){this.editingUser=e,this.userForm={user_name:e.user_name},this.showAddForm=!1},async deleteUser(e){if(confirm(`Are you sure you want to delete user "${e.user_name}"?`)){this.loading=!0;try{await Se.delete(e.user_id),await this.loadUsers(),x.success("User deleted successfully!")}catch(a){console.error("Error deleting user:",a),x.error("Error deleting user. Please try again.")}finally{this.loading=!1}}},cancelForm(){this.showAddForm=!1,this.editingUser=null,this.userForm={user_name:""}},formatDate(e){return e?new Date(e).toLocaleDateString():"N/A"}}};const os=(0,I.A)(rs,[["render",ts]]);var ls=os;const is={class:"librarians"},ns={class:"row mb-4"},ds={class:"col-md-6 text-end"},cs={key:0,class:"card mb-4"},us={class:"card-header"},ks={class:"mb-0"},bs={class:"card-body"},ms={class:"row"},hs={class:"col-md-6 mb-3"},Ls={class:"col-md-6 mb-3"},gs={class:"row"},vs={class:"col-md-6 mb-3"},fs={class:"col-md-6 mb-3"},ps={class:"d-flex gap-2"},ws=["disabled"],ys={class:"card"},Cs={class:"card-body"},Bs={key:0,class:"text-center py-4"},As={key:1,class:"text-center py-4 text-muted"},_s={key:2,class:"table-responsive"},Es={class:"table table-hover"},Ps={class:"text-truncate",style:{"max-width":"200px"}},Fs={class:"btn-group",role:"group"},Ds=["onClick"],xs=["onClick"];function Us(e,a,s,l,i,n){return(0,r.uX)(),(0,r.CE)("div",is,[(0,r.Lk)("div",ns,[a[8]||(a[8]=(0,r.Lk)("div",{class:"col-md-6"},[(0,r.Lk)("h1",{class:"h2"},[(0,r.Lk)("i",{class:"fas fa-user-tie"}),(0,r.eW)(" Librarians Management ")])],-1)),(0,r.Lk)("div",ds,[(0,r.Lk)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=e=>i.showAddForm=!0)},[...a[7]||(a[7]=[(0,r.Lk)("i",{class:"fas fa-plus"},null,-1),(0,r.eW)(" Add New Librarian ",-1)])])])]),i.showAddForm||i.editingLibrarian?((0,r.uX)(),(0,r.CE)("div",cs,[(0,r.Lk)("div",us,[(0,r.Lk)("h5",ks,(0,o.v_)(i.editingLibrarian?"Edit Librarian":"Add New Librarian"),1)]),(0,r.Lk)("div",bs,[(0,r.Lk)("form",{onSubmit:a[6]||(a[6]=(0,t.D$)((...e)=>n.saveLibrarian&&n.saveLibrarian(...e),["prevent"]))},[(0,r.Lk)("div",ms,[(0,r.Lk)("div",hs,[a[9]||(a[9]=(0,r.Lk)("label",{for:"LibrarianName",class:"form-label"},"Name *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"LibrarianName","onUpdate:modelValue":a[1]||(a[1]=e=>i.librarianForm.LibrarianName=e),required:""},null,512),[[t.Jo,i.librarianForm.LibrarianName]])]),(0,r.Lk)("div",Ls,[a[11]||(a[11]=(0,r.Lk)("label",{for:"Gender",class:"form-label"},"Gender *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-select",id:"Gender","onUpdate:modelValue":a[2]||(a[2]=e=>i.librarianForm.Gender=e),required:""},[...a[10]||(a[10]=[(0,r.Lk)("option",{value:""},"Select Gender",-1),(0,r.Lk)("option",{value:"Male"},"Male",-1),(0,r.Lk)("option",{value:"Female"},"Female",-1)])],512),[[t.u1,i.librarianForm.Gender]])])]),(0,r.Lk)("div",gs,[(0,r.Lk)("div",vs,[a[12]||(a[12]=(0,r.Lk)("label",{for:"Phone",class:"form-label"},"Phone *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"Phone","onUpdate:modelValue":a[3]||(a[3]=e=>i.librarianForm.Phone=e),required:""},null,512),[[t.Jo,i.librarianForm.Phone]])]),(0,r.Lk)("div",fs,[a[13]||(a[13]=(0,r.Lk)("label",{for:"Address",class:"form-label"},"Address *",-1)),(0,r.bo)((0,r.Lk)("textarea",{class:"form-control",id:"Address","onUpdate:modelValue":a[4]||(a[4]=e=>i.librarianForm.Address=e),rows:"2",required:""},null,512),[[t.Jo,i.librarianForm.Address]])])]),(0,r.Lk)("div",ps,[(0,r.Lk)("button",{type:"submit",class:"btn btn-success",disabled:i.loading},[a[14]||(a[14]=(0,r.Lk)("i",{class:"fas fa-save"},null,-1)),(0,r.eW)(" "+(0,o.v_)(i.editingLibrarian?"Update":"Save"),1)],8,ws),(0,r.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[5]||(a[5]=(...e)=>n.cancelForm&&n.cancelForm(...e))},[...a[15]||(a[15]=[(0,r.Lk)("i",{class:"fas fa-times"},null,-1),(0,r.eW)(" Cancel ",-1)])])])],32)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",ys,[(0,r.Lk)("div",Cs,[i.loading?((0,r.uX)(),(0,r.CE)("div",Bs,[...a[16]||(a[16]=[(0,r.Lk)("div",{class:"spinner-border",role:"status"},[(0,r.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):0===i.librarians.length?((0,r.uX)(),(0,r.CE)("div",As,[...a[17]||(a[17]=[(0,r.Lk)("i",{class:"fas fa-user-tie fa-3x mb-3"},null,-1),(0,r.Lk)("p",null,"No librarians found",-1)])])):((0,r.uX)(),(0,r.CE)("div",_s,[(0,r.Lk)("table",Es,[a[20]||(a[20]=(0,r.Lk)("thead",{class:"table-dark"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Gender"),(0,r.Lk)("th",null,"Phone"),(0,r.Lk)("th",null,"Address"),(0,r.Lk)("th",null,"Created"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.librarians,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.LibrarianID},[(0,r.Lk)("td",null,(0,o.v_)(e.LibrarianID),1),(0,r.Lk)("td",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.LibrarianName),1)]),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,o.C4)(["badge","Male"===e.Gender?"bg-primary":"bg-info"])},(0,o.v_)(e.Gender),3)]),(0,r.Lk)("td",null,(0,o.v_)(e.Phone),1),(0,r.Lk)("td",Ps,(0,o.v_)(e.Address),1),(0,r.Lk)("td",null,(0,o.v_)(n.formatDate(e.createdAt)),1),(0,r.Lk)("td",null,[(0,r.Lk)("div",Fs,[(0,r.Lk)("button",{class:"btn btn-sm btn-outline-primary",onClick:a=>n.editLibrarian(e),title:"Edit"},[...a[18]||(a[18]=[(0,r.Lk)("i",{class:"fas fa-edit"},null,-1)])],8,Ds),(0,r.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:a=>n.deleteLibrarian(e),title:"Delete"},[...a[19]||(a[19]=[(0,r.Lk)("i",{class:"fas fa-trash"},null,-1)])],8,xs)])])]))),128))])])]))])])])}var Is={name:"Librarians",data(){return{librarians:[],loading:!1,showAddForm:!1,editingLibrarian:null,librarianForm:{LibrarianName:"",Gender:"",Phone:"",Address:""}}},async mounted(){await this.loadLibrarians()},methods:{async loadLibrarians(){this.loading=!0;try{const e=await Ne.getAll();this.librarians=e.data}catch(e){console.error("Error loading librarians:",e),x.error("Error loading librarians. Please try again.")}finally{this.loading=!1}},async saveLibrarian(){this.loading=!0;try{this.editingLibrarian?await Ne.update(this.editingLibrarian.LibrarianID,this.librarianForm):await Ne.create(this.librarianForm),await this.loadLibrarians(),this.cancelForm(),x.success(this.editingLibrarian?"Librarian updated successfully!":"Librarian created successfully!")}catch(e){console.error("Error saving librarian:",e),x.error("Error saving librarian. Please try again.")}finally{this.loading=!1}},editLibrarian(e){this.editingLibrarian=e,this.librarianForm={LibrarianName:e.LibrarianName,Gender:e.Gender,Phone:e.Phone,Address:e.Address},this.showAddForm=!1},async deleteLibrarian(e){if(confirm(`Are you sure you want to delete librarian "${e.LibrarianName}"?`)){this.loading=!0;try{await Ne.delete(e.LibrarianID),await this.loadLibrarians(),x.success("Librarian deleted successfully!")}catch(a){console.error("Error deleting librarian:",a),x.error("Error deleting librarian. Please try again.")}finally{this.loading=!1}}},cancelForm(){this.showAddForm=!1,this.editingLibrarian=null,this.librarianForm={LibrarianName:"",Gender:"",Phone:"",Address:""}},formatDate(e){return e?new Date(e).toLocaleDateString():"N/A"}}};const Xs=(0,I.A)(Is,[["render",Us]]);var Ss=Xs;const Ns={class:"borrowing"},Ms={class:"row mb-4"},Ws={class:"col-md-6 text-end"},$s={class:"row mb-4"},Qs={class:"col-md-4"},qs={class:"card bg-warning text-white"},Ts={class:"card-body text-center"},js={class:"col-md-4"},Vs={class:"card bg-success text-white"},Os={class:"card-body text-center"},Rs={class:"col-md-4"},Js={class:"card bg-info text-white"},Gs={class:"card-body text-center"},Ks={key:0,class:"card mb-4"},zs={class:"card-body"},Hs={class:"row"},Ys={class:"col-md-4 mb-3"},Zs=["value"],et={class:"col-md-4 mb-3"},at=["value"],st={class:"col-md-4 mb-3"},tt=["value"],rt={class:"row"},ot={class:"col-md-6 mb-3"},lt={class:"d-flex gap-2"},it=["disabled"],nt={class:"card"},dt={class:"card-header"},ct={class:"nav nav-tabs card-header-tabs"},ut={class:"nav-item"},kt={class:"nav-item"},bt={class:"nav-item"},mt={class:"card-body"},ht={key:0,class:"text-center py-4"},Lt={key:1,class:"text-center py-4 text-muted"},gt={key:2,class:"table-responsive"},vt={class:"table table-hover"},ft={class:"text-muted"},pt={key:0,class:"badge bg-warning"},wt={key:1,class:"badge bg-success"},yt=["onClick"],Ct={key:1,class:"text-muted"};function Bt(e,a,s,l,i,n){return(0,r.uX)(),(0,r.CE)("div",Ns,[(0,r.Lk)("div",Ms,[a[11]||(a[11]=(0,r.Lk)("div",{class:"col-md-6"},[(0,r.Lk)("h1",{class:"h2"},[(0,r.Lk)("i",{class:"fas fa-handshake"}),(0,r.eW)(" Borrowing Management ")])],-1)),(0,r.Lk)("div",Ws,[(0,r.Lk)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=e=>i.showBorrowForm=!0)},[...a[10]||(a[10]=[(0,r.Lk)("i",{class:"fas fa-plus"},null,-1),(0,r.eW)(" New Borrowing ",-1)])])])]),(0,r.Lk)("div",$s,[(0,r.Lk)("div",Qs,[(0,r.Lk)("div",qs,[(0,r.Lk)("div",Ts,[a[12]||(a[12]=(0,r.Lk)("i",{class:"fas fa-handshake fa-2x mb-2"},null,-1)),(0,r.Lk)("h4",null,(0,o.v_)(n.currentlyBorrowedCount),1),a[13]||(a[13]=(0,r.Lk)("p",{class:"mb-0"},"Currently Borrowed",-1))])])]),(0,r.Lk)("div",js,[(0,r.Lk)("div",Vs,[(0,r.Lk)("div",Os,[a[14]||(a[14]=(0,r.Lk)("i",{class:"fas fa-undo fa-2x mb-2"},null,-1)),(0,r.Lk)("h4",null,(0,o.v_)(n.returnedCount),1),a[15]||(a[15]=(0,r.Lk)("p",{class:"mb-0"},"Returned Books",-1))])])]),(0,r.Lk)("div",Rs,[(0,r.Lk)("div",Js,[(0,r.Lk)("div",Gs,[a[16]||(a[16]=(0,r.Lk)("i",{class:"fas fa-chart-bar fa-2x mb-2"},null,-1)),(0,r.Lk)("h4",null,(0,o.v_)(n.totalBorrowings),1),a[17]||(a[17]=(0,r.Lk)("p",{class:"mb-0"},"Total Borrowings",-1))])])])]),i.showBorrowForm?((0,r.uX)(),(0,r.CE)("div",Ks,[a[27]||(a[27]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h5",{class:"mb-0"},"New Book Borrowing")],-1)),(0,r.Lk)("div",zs,[(0,r.Lk)("form",{onSubmit:a[6]||(a[6]=(0,t.D$)((...e)=>n.borrowBook&&n.borrowBook(...e),["prevent"]))},[(0,r.Lk)("div",Hs,[(0,r.Lk)("div",Ys,[a[19]||(a[19]=(0,r.Lk)("label",{for:"UserID",class:"form-label"},"User *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-select",id:"UserID","onUpdate:modelValue":a[1]||(a[1]=e=>i.borrowForm.UserID=e),required:""},[a[18]||(a[18]=(0,r.Lk)("option",{value:""},"Select User",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.users,e=>((0,r.uX)(),(0,r.CE)("option",{key:e.user_id,value:e.user_id},(0,o.v_)(e.user_name),9,Zs))),128))],512),[[t.u1,i.borrowForm.UserID]])]),(0,r.Lk)("div",et,[a[21]||(a[21]=(0,r.Lk)("label",{for:"LibrarianID",class:"form-label"},"Librarian *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-select",id:"LibrarianID","onUpdate:modelValue":a[2]||(a[2]=e=>i.borrowForm.LibrarianID=e),required:""},[a[20]||(a[20]=(0,r.Lk)("option",{value:""},"Select Librarian",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.librarians,e=>((0,r.uX)(),(0,r.CE)("option",{key:e.LibrarianID,value:e.LibrarianID},(0,o.v_)(e.LibrarianName),9,at))),128))],512),[[t.u1,i.borrowForm.LibrarianID]])]),(0,r.Lk)("div",st,[a[23]||(a[23]=(0,r.Lk)("label",{for:"BookId",class:"form-label"},"Book *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-select",id:"BookId","onUpdate:modelValue":a[3]||(a[3]=e=>i.borrowForm.BookId=e),required:""},[a[22]||(a[22]=(0,r.Lk)("option",{value:""},"Select Book",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.availableBooks,e=>((0,r.uX)(),(0,r.CE)("option",{key:e.book_id,value:e.book_id},(0,o.v_)(e.title)+" - "+(0,o.v_)(e.author),9,tt))),128))],512),[[t.u1,i.borrowForm.BookId]])])]),(0,r.Lk)("div",rt,[(0,r.Lk)("div",ot,[a[24]||(a[24]=(0,r.Lk)("label",{for:"BorrowBookDate",class:"form-label"},"Borrow Date *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",class:"form-control",id:"BorrowBookDate","onUpdate:modelValue":a[4]||(a[4]=e=>i.borrowForm.BorrowBookDate=e),required:""},null,512),[[t.Jo,i.borrowForm.BorrowBookDate]])])]),(0,r.Lk)("div",lt,[(0,r.Lk)("button",{type:"submit",class:"btn btn-success",disabled:i.loading},[...a[25]||(a[25]=[(0,r.Lk)("i",{class:"fas fa-handshake"},null,-1),(0,r.eW)(" Borrow Book ",-1)])],8,it),(0,r.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[5]||(a[5]=(...e)=>n.cancelBorrowForm&&n.cancelBorrowForm(...e))},[...a[26]||(a[26]=[(0,r.Lk)("i",{class:"fas fa-times"},null,-1),(0,r.eW)(" Cancel ",-1)])])])],32)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",nt,[(0,r.Lk)("div",dt,[(0,r.Lk)("ul",ct,[(0,r.Lk)("li",ut,[(0,r.Lk)("button",{class:(0,o.C4)(["nav-link",{active:"all"===i.activeTab}]),onClick:a[7]||(a[7]=e=>i.activeTab="all")}," All Borrowings ",2)]),(0,r.Lk)("li",kt,[(0,r.Lk)("button",{class:(0,o.C4)(["nav-link",{active:"borrowed"===i.activeTab}]),onClick:a[8]||(a[8]=e=>i.activeTab="borrowed")}," Currently Borrowed ",2)]),(0,r.Lk)("li",bt,[(0,r.Lk)("button",{class:(0,o.C4)(["nav-link",{active:"returned"===i.activeTab}]),onClick:a[9]||(a[9]=e=>i.activeTab="returned")}," Returned ",2)])])]),(0,r.Lk)("div",mt,[i.loading?((0,r.uX)(),(0,r.CE)("div",ht,[...a[28]||(a[28]=[(0,r.Lk)("div",{class:"spinner-border",role:"status"},[(0,r.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):0===n.filteredBorrowings.length?((0,r.uX)(),(0,r.CE)("div",Lt,[...a[29]||(a[29]=[(0,r.Lk)("i",{class:"fas fa-handshake fa-3x mb-3"},null,-1),(0,r.Lk)("p",null,"No borrowings found",-1)])])):((0,r.uX)(),(0,r.CE)("div",gt,[(0,r.Lk)("table",vt,[a[34]||(a[34]=(0,r.Lk)("thead",{class:"table-dark"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Book"),(0,r.Lk)("th",null,"User"),(0,r.Lk)("th",null,"Librarian"),(0,r.Lk)("th",null,"Borrow Date"),(0,r.Lk)("th",null,"Return Date"),(0,r.Lk)("th",null,"Status"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.filteredBorrowings,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.BorrowID},[(0,r.Lk)("td",null,(0,o.v_)(e.BorrowID),1),(0,r.Lk)("td",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.books?.title||"N/A"),1),a[30]||(a[30]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("small",ft,"by "+(0,o.v_)(e.books?.author||"N/A"),1)]),(0,r.Lk)("td",null,(0,o.v_)(e.Users?.user_name||"N/A"),1),(0,r.Lk)("td",null,(0,o.v_)(e.librarians?.LibrarianName||"N/A"),1),(0,r.Lk)("td",null,(0,o.v_)(n.formatDate(e.BorrowBookDate)),1),(0,r.Lk)("td",null,(0,o.v_)(n.formatDate(e.ReturnBookDate)),1),(0,r.Lk)("td",null,[e.IsBorrow?((0,r.uX)(),(0,r.CE)("span",pt,[...a[31]||(a[31]=[(0,r.Lk)("i",{class:"fas fa-handshake"},null,-1),(0,r.eW)(" Borrowed ",-1)])])):((0,r.uX)(),(0,r.CE)("span",wt,[...a[32]||(a[32]=[(0,r.Lk)("i",{class:"fas fa-undo"},null,-1),(0,r.eW)(" Returned ",-1)])]))]),(0,r.Lk)("td",null,[e.IsBorrow?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"btn btn-sm btn-outline-success",onClick:a=>n.returnBook(e),title:"Return Book"},[...a[33]||(a[33]=[(0,r.Lk)("i",{class:"fas fa-undo"},null,-1),(0,r.eW)(" Return ",-1)])],8,yt)):((0,r.uX)(),(0,r.CE)("span",Ct,"-"))])]))),128))])])]))])])])}var At={name:"Borrowing",data(){return{borrowings:[],users:[],librarians:[],availableBooks:[],loading:!1,showBorrowForm:!1,activeTab:"all",borrowForm:{UserID:"",LibrarianID:"",BookId:"",BorrowBookDate:(new Date).toISOString().split("T")[0]}}},computed:{filteredBorrowings(){switch(this.activeTab){case"borrowed":return this.borrowings.filter(e=>e.IsBorrow);case"returned":return this.borrowings.filter(e=>!e.IsBorrow);default:return this.borrowings}},totalBorrowings(){return this.borrowings.length},currentlyBorrowedCount(){return this.borrowings.filter(e=>e.IsBorrow).length},returnedCount(){return this.borrowings.filter(e=>!e.IsBorrow).length}},async mounted(){await this.loadData()},methods:{async loadData(){this.loading=!0;try{const[e,a,s,t]=await Promise.all([Me.getAll(),Se.getAll(),Ne.getAll(),Xe.getAvailable()]);this.borrowings=e.data,this.users=a.data,this.librarians=s.data,this.availableBooks=t.data}catch(e){console.error("Error loading data:",e),x.error("Error loading data. Please try again.")}finally{this.loading=!1}},async borrowBook(){this.loading=!0;try{await Me.borrowBook(this.borrowForm),await this.loadData(),this.cancelBorrowForm(),x.success("Book borrowed successfully!")}catch(e){console.error("Error borrowing book:",e),x.error("Error borrowing book. Please try again.")}finally{this.loading=!1}},async returnBook(e){if(confirm(`Are you sure you want to return "${e.books?.title}"?`)){this.loading=!0;try{await Me.returnBook(e.BorrowID),await this.loadData(),x.success("Book returned successfully!")}catch(a){console.error("Error returning book:",a),x.error("Error returning book. Please try again.")}finally{this.loading=!1}}},cancelBorrowForm(){this.showBorrowForm=!1,this.borrowForm={UserID:"",LibrarianID:"",BookId:"",BorrowBookDate:(new Date).toISOString().split("T")[0]}},formatDate(e){return e?new Date(e).toLocaleDateString():"N/A"}}};const _t=(0,I.A)(At,[["render",Bt],["__scopeId","data-v-6623b7fa"]]);var Et=_t;const Pt={class:"login-container"},Ft={class:"login-card"},Dt={class:"login-header"},xt={class:"form-group"},Ut={key:0,class:"error-message"},It={key:0,class:"form-group"},Xt={key:0,class:"error-message"},St={class:"form-group"},Nt={class:"password-input"},Mt=["type","placeholder"],Wt={key:0,class:"error-message"},$t={key:1,class:"form-group"},Qt={key:0,class:"error-message"},qt=["disabled"],Tt={key:0,class:"spinner"},jt={class:"mode-toggle"},Vt={key:0},Ot={key:1};function Rt(e,a,s,l,i,n){return(0,r.uX)(),(0,r.CE)("div",Pt,[(0,r.Lk)("div",Ft,[(0,r.Lk)("div",Dt,[(0,r.Lk)("h2",null,(0,o.v_)(i.isLoginMode?"Sign In":"Create Account"),1),(0,r.Lk)("p",null,(0,o.v_)(i.isLoginMode?"Welcome back to Library Management System":"Join our Library Management System"),1)]),(0,r.Lk)("form",{onSubmit:a[7]||(a[7]=(0,t.D$)((...e)=>n.handleSubmit&&n.handleSubmit(...e),["prevent"])),class:"login-form"},[(0,r.Lk)("div",xt,[a[8]||(a[8]=(0,r.Lk)("label",{for:"user_name"},"Username",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"user_name","onUpdate:modelValue":a[0]||(a[0]=e=>i.formData.user_name=e),class:(0,o.C4)({error:i.errors.user_name}),placeholder:"Enter your username",required:""},null,2),[[t.Jo,i.formData.user_name]]),i.errors.user_name?((0,r.uX)(),(0,r.CE)("span",Ut,(0,o.v_)(i.errors.user_name),1)):(0,r.Q3)("",!0)]),i.isLoginMode?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",It,[a[9]||(a[9]=(0,r.Lk)("label",{for:"email"},"Email (Optional)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>i.formData.email=e),class:(0,o.C4)({error:i.errors.email}),placeholder:"Enter your email"},null,2),[[t.Jo,i.formData.email]]),i.errors.email?((0,r.uX)(),(0,r.CE)("span",Xt,(0,o.v_)(i.errors.email),1)):(0,r.Q3)("",!0)])),(0,r.Lk)("div",St,[a[10]||(a[10]=(0,r.Lk)("label",{for:"password"},"Password",-1)),(0,r.Lk)("div",Nt,[(0,r.bo)((0,r.Lk)("input",{type:i.showPassword?"text":"password",id:"password","onUpdate:modelValue":a[2]||(a[2]=e=>i.formData.password=e),class:(0,o.C4)({error:i.errors.password}),placeholder:i.isLoginMode?"Enter your password":"Choose a password (min 6 characters)",required:""},null,10,Mt),[[t.hp,i.formData.password]]),(0,r.Lk)("button",{type:"button",onClick:a[3]||(a[3]=(...e)=>n.togglePassword&&n.togglePassword(...e)),class:"password-toggle"},(0,o.v_)(i.showPassword?"ðï¸":"ðï¸âð¨ï¸"),1)]),i.errors.password?((0,r.uX)(),(0,r.CE)("span",Wt,(0,o.v_)(i.errors.password),1)):(0,r.Q3)("",!0)]),i.isLoginMode?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",$t,[a[12]||(a[12]=(0,r.Lk)("label",{for:"role"},"Role",-1)),(0,r.bo)((0,r.Lk)("select",{id:"role","onUpdate:modelValue":a[4]||(a[4]=e=>i.formData.role=e),class:(0,o.C4)({error:i.errors.role})},[...a[11]||(a[11]=[(0,r.Lk)("option",{value:"user"},"User",-1),(0,r.Lk)("option",{value:"admin"},"Admin",-1)])],2),[[t.u1,i.formData.role]]),i.errors.role?((0,r.uX)(),(0,r.CE)("span",Qt,(0,o.v_)(i.errors.role),1)):(0,r.Q3)("",!0)])),(0,r.Lk)("button",{type:"submit",class:"submit-button",disabled:i.loading},[i.loading?((0,r.uX)(),(0,r.CE)("span",Tt)):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,o.v_)(i.loading?"Please wait...":i.isLoginMode?"Sign In":"Create Account"),1)],8,qt),(0,r.Lk)("div",jt,[i.isLoginMode?((0,r.uX)(),(0,r.CE)("p",Vt,[a[13]||(a[13]=(0,r.eW)(" Don't have an account? ",-1)),(0,r.Lk)("button",{type:"button",onClick:a[5]||(a[5]=(...e)=>n.toggleMode&&n.toggleMode(...e)),class:"link-button"}," Create one ")])):((0,r.uX)(),(0,r.CE)("p",Ot,[a[14]||(a[14]=(0,r.eW)(" Already have an account? ",-1)),(0,r.Lk)("button",{type:"button",onClick:a[6]||(a[6]=(...e)=>n.toggleMode&&n.toggleMode(...e)),class:"link-button"}," Sign in ")]))])],32)])])}var Jt={name:"Login",data(){return{isLoginMode:!0,loading:!1,showPassword:!1,formData:{user_name:"",email:"",password:"",role:"user"},errors:{}}},methods:{async handleSubmit(){if(this.validateForm()){this.loading=!0,this.errors={};try{let e;e=this.isLoginMode?await q.login({user_name:this.formData.user_name,password:this.formData.password}):await q.register(this.formData),x.success(e.message),this.$router.push("/dashboard")}catch(e){console.error("Authentication error:",e),e.response?.data?.message?x.error(e.response.data.message):x.error(this.isLoginMode?"Login failed. Please try again.":"Registration failed. Please try again.")}finally{this.loading=!1}}},validateForm(){return this.errors={},this.formData.user_name.trim()||(this.errors.user_name="Username is required"),this.formData.password?!this.isLoginMode&&this.formData.password.length<6&&(this.errors.password="Password must be at least 6 characters long"):this.errors.password="Password is required",this.isLoginMode||!this.formData.email||this.isValidEmail(this.formData.email)||(this.errors.email="Please enter a valid email address"),0===Object.keys(this.errors).length},isValidEmail(e){const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return a.test(e)},toggleMode(){this.isLoginMode=!this.isLoginMode,this.errors={},this.formData={user_name:"",email:"",password:"",role:"user"}},togglePassword(){this.showPassword=!this.showPassword}}};const Gt=(0,I.A)(Jt,[["render",Rt],["__scopeId","data-v-0c95de1c"]]);var Kt=Gt;const zt=[{path:"/login",name:"Login",component:Kt,meta:{requiresAuth:!1}},{path:"/",redirect:"/dashboard"},{path:"/dashboard",name:"Dashboard",component:Qe,meta:{requiresAuth:!0}},{path:"/books",name:"Books",component:_a,meta:{requiresAuth:!0}},{path:"/users",name:"Users",component:ls,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/librarians",name:"Librarians",component:Ss,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/borrowing",name:"Borrowing",component:Et,meta:{requiresAuth:!0}}],Ht=(0,O.aE)({history:(0,O.LA)(),routes:zt});Ht.beforeEach((e,a,s)=>{const t=q.isAuthenticated(),r=q.getCurrentUser();q.initialize(),!1===e.meta.requiresAuth||t?"/login"===e.path&&t?s("/dashboard"):!e.meta.requiresAdmin||r&&"admin"===r.role?s():s("/dashboard"):s("/login")});var Yt=Ht;s(736);const Zt=(0,t.Ef)(V);Zt.use(Yt),Zt.mount("#app")}},a={};function s(t){var r=a[t];if(void 0!==r)return r.exports;var o=a[t]={exports:{}};return e[t].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(a,t,r,o){if(!t){var l=1/0;for(c=0;c<e.length;c++){t=e[c][0],r=e[c][1],o=e[c][2];for(var i=!0,n=0;n<t.length;n++)(!1&o||l>=o)&&Object.keys(s.O).every(function(e){return s.O[e](t[n])})?t.splice(n--,1):(i=!1,o<l&&(l=o));if(i){e.splice(c--,1);var d=r();void 0!==d&&(a=d)}}return a}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,r,o]}}(),function(){s.d=function(e,a){for(var t in a)s.o(a,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(a){return 0===e[a]};var a=function(a,t){var r,o,l=t[0],i=t[1],n=t[2],d=0;if(l.some(function(a){return 0!==e[a]})){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(n)var c=n(s)}for(a&&a(t);d<l.length;d++)o=l[d],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},t=self["webpackChunklibrary_management_frontend"]=self["webpackChunklibrary_management_frontend"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=s.O(void 0,[504],function(){return s(546)});t=s.O(t)})();
//# sourceMappingURL=app.e1d1bba8.js.map